/**
 * π― κ°€μ¥ μ‰¬μ΄ API ν…μ¤νΈ (TypeScript)
 *
 * μΈν„°λ„·μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ™€μ„ ν™•μΈν•λ” ν…μ¤νΈμ…λ‹λ‹¤.
 * λ§μΉ μ›Ήμ‚¬μ΄νΈμ—μ„ μ •λ³΄λ¥Ό λ³΄λ” κ²ƒκ³Ό κ°™μ•„μ”!
 *
 * π€ μ‹¤ν–‰: npx jest tests/jest-examples/simple-api-test.test.ts
 */

import { AxiosResponse } from 'axios';
import { User } from '../../types/api-types';
import { μƒν”_μ‚¬μ©μ, μ‚¬μ „μ •μ_μ‘λ‹µ } from '../data/sample-data';

describe("π― μ‰¬μ΄ API ν…μ¤νΈ (μƒν” λ°μ΄ν„° μ‚¬μ©)", () => {
  test("μƒν” λ°μ΄ν„°λ΅ μ‚¬μ©μ μ •λ³΄ κ°€μ Έμ¤κΈ°", async () => {
    console.log("π€ μƒν” λ°μ΄ν„° ν…μ¤νΈ μ‹μ‘!");
    
    // 1λ‹¨κ³„: μƒν” λ°μ΄ν„° μ‚¬μ© (μ‹¤μ  μΈν„°λ„· μ—°κ²° λ¶ν•„μ”!)
    console.log("π“ λ°μ΄ν„° μ†μ¤: μƒν” λ°μ΄ν„° (μ•μ „ν•¨!)");

    // 2λ‹¨κ³„: μƒν” μ‘λ‹µ λ°μ΄ν„° κ°€μ Έμ¤κΈ° (μ‹¤μ  API λ€μ‹ )
    const μ‘λ‹µ: AxiosResponse<User> = μ‚¬μ „μ •μ_μ‘λ‹µ.μ‚¬μ©μμ΅°ν_μ„±κ³µ;
    
    // 3λ‹¨κ³„: μ κ°€μ Έμ™”λ”μ§€ ν™•μΈν•κΈ°
    expect(μ‘λ‹µ.status).toBe(200);  // 200 = μ„±κ³µ!
    console.log("β… μƒν” λ°μ΄ν„° λ΅λ“ μ„±κ³µ!");

    // 4λ‹¨κ³„: κ°€μ Έμ¨ μ •λ³΄ λ³΄κΈ°
    const μ •λ³΄: User = μ‘λ‹µ.data;
    console.log("π‘¤ μ΄λ¦„:", μ •λ³΄.name);
    console.log("π“§ μ΄λ©”μΌ:", μ •λ³΄.email);
    console.log("πΆ νμ‚¬:", μ •λ³΄.company.name);
    console.log("π“ λ„μ‹:", μ •λ³΄.address.city);

    // 5λ‹¨κ³„: μ •λ³΄κ°€ μ λ€λ΅ μλ”μ§€ ν™•μΈν•κΈ°
    expect(μ •λ³΄.name).toBeDefined();   // μ΄λ¦„μ΄ μλ‚μ”?
    expect(μ •λ³΄.email).toBeDefined();  // μ΄λ©”μΌμ΄ μλ‚μ”?
    expect(μ •λ³΄.name).toBe("κΉ€λ―Όμ");   // μƒν” λ°μ΄ν„° μ΄λ¦„ λ§λ‚μ”?
    expect(μ •λ³΄.address.city).toBe("μ„μΈ");  // λ„μ‹λ„ λ§λ‚μ”?
    console.log("β… λ¨λ“  μƒν” μ •λ³΄κ°€ μ •ν™•ν•΄μ”!");
    
    console.log("\nπ’΅ μ¥μ : μΈν„°λ„· μ—†μ΄λ„ ν…μ¤νΈ κ°€λ¥!");
  });
});

/**
 * π“ μ΄ ν…μ¤νΈμ—μ„ λ°°μ΄ κ²ƒλ“¤:
 *
 * β¨ ν•µμ‹¬ κ°λ…:
 * - axios.get(): μΈν„°λ„·μ—μ„ μ •λ³΄ κ°€μ Έμ¤κΈ°
 * - await: μ •λ³΄λ¥Ό λ‹¤ κ°€μ Έμ¬ λ•κΉμ§€ κΈ°λ‹¤λ¦¬κΈ°  
 * - expect(): μ •λ³΄κ°€ λ§λ”μ§€ ν™•μΈν•κΈ°
 *
 * π― λ‹¤μ λ‹¨κ³„:
 * - simple-api-flow.test.js νμΌ λ³΄κΈ°
 * - μ—¬λ¬ λ‹¨κ³„λ΅ μ΄λ£¨μ–΄μ§„ ν…μ¤νΈ λ°°μ°κΈ°
 */